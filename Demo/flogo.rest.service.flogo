{
    "imports": [
        "github.com/project-flogo/flow",
        "github.com/project-flogo/contrib/activity/noop",
        "github.com/tibco/flogo-general/src/app/General/activity/mapper",
        "github.com/tibco/flogo-general/src/app/General/activity/httpresponse",
        "github.com/tibco/flogo-general/src/app/General/activity/log",
        "github.com/project-flogo/contrib/activity/actreturn",
        "github.com/tibco/flogo-general/src/app/General/trigger/rest",
        "github.com/project-flogo/contrib/function/array",
        "github.com/project-flogo/contrib/function/datetime",
        "github.com/project-flogo/contrib/function/coerce",
        "github.com/project-flogo/contrib/function/string",
        "github.com/project-flogo/contrib/function/json"
    ],
    "name": "flogo.rest.service",
    "description": "Flogo Rest Service configured with API specÂ ",
    "version": "1.0.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "tags": [],
    "triggers": [
        {
            "ref": "#rest",
            "name": "tibco-wi-rest",
            "description": "Multiple response code service",
            "settings": {
                "port": 9998,
                "APISpecUpdate": true,
                "swagger": "spec://10fb83be",
                "swaggerVersion": "v2",
                "apiVersion": "1.0.0",
                "secureConnection": false,
                "serverKey": "",
                "caCertificate": ""
            },
            "id": "ReceiveHTTPMessage",
            "handlers": [
                {
                    "description": "POST book details with multiple branches",
                    "settings": {
                        "APISpecPath": "/bookdetails/{bookname}/{ISBN}/{authorName}",
                        "Method": "POST",
                        "reqType": "application/json",
                        "Path": "/bookdetails/{bookname}/{ISBN}/{authorName}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:postBookDetails"
                        },
                        "input": {
                            "queryParams": "=$.queryParams",
                            "pathParams": "=$.pathParams",
                            "headers": "=$.headers",
                            "body": {
                                "mapping": {
                                    "Book": {
                                        "@foreach($.body.Book,Book)": {
                                            "=": "$loop"
                                        }
                                    }
                                }
                            }
                        },
                        "output": {
                            "responseBody": "=$.responseBody",
                            "code": "=$.code"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": {}
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"vintage\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"signed\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}",
                                "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"vintage\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"signed\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}"
                            },
                            "responseBody": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}"
                            },
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"responseHeaders\":{\"type\":\"string\"},\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"}},\"required\":[\"responseHeaders\",\"code\",\"responseType\",\"responseSchema\"]}}",
                                "fe_metadata": "[{\"responseHeaders\":\"{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"Available\\\":{\\\"type\\\":\\\"boolean\\\"}}}\",\"code\":200,\"responseType\":\"object\",\"responseSchema\":\"{\\\"properties\\\":{\\\"Book\\\":{\\\"items\\\":{\\\"properties\\\":{\\\"authorName\\\":{\\\"type\\\":\\\"string\\\"},\\\"id\\\":{\\\"type\\\":\\\"number\\\"},\\\"isbn\\\":{\\\"type\\\":\\\"string\\\"},\\\"name\\\":{\\\"type\\\":\\\"string\\\"},\\\"price\\\":{\\\"type\\\":\\\"number\\\"},\\\"releaseDate\\\":{\\\"type\\\":\\\"string\\\"}},\\\"type\\\":\\\"object\\\"},\\\"type\\\":\\\"array\\\"}},\\\"type\\\":\\\"object\\\"}\"},{\"responseHeaders\":\"{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"Available\\\":{\\\"type\\\":\\\"boolean\\\"}}}\",\"code\":222,\"responseType\":\"object\",\"responseSchema\":\"{\\\"properties\\\":{\\\"authorName\\\":{\\\"type\\\":\\\"string\\\"},\\\"id\\\":{\\\"type\\\":\\\"number\\\"},\\\"isbn\\\":{\\\"type\\\":\\\"string\\\"},\\\"name\\\":{\\\"type\\\":\\\"string\\\"}},\\\"type\\\":\\\"object\\\"}\"},{\"code\":400,\"responseType\":\"object\",\"responseSchema\":\"{\\\"properties\\\":{\\\"errorCode\\\":{\\\"type\\\":\\\"number\\\"},\\\"errorMessage\\\":{\\\"type\\\":\\\"string\\\"}},\\\"type\\\":\\\"object\\\"}\"},{\"code\":500,\"responseType\":\"string\"}]"
                            }
                        },
                        "output": {
                            "queryParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"available\":{\"type\":\"boolean\"},\"price\":{\"type\":\"number\"},\"id\":{\"type\":\"number\"}},\"required\":[\"available\",\"price\",\"id\"]}",
                                "fe_metadata": "[{\"parameterName\":\"available\",\"repeating\":\"false\",\"type\":\"boolean\",\"required\":\"true\"},{\"parameterName\":\"price\",\"repeating\":\"false\",\"type\":\"number\",\"required\":\"true\"},{\"parameterName\":\"id\",\"repeating\":\"false\",\"type\":\"number\",\"required\":\"true\"}]"
                            },
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"bookname\":{\"type\":\"string\"},\"ISBN\":{\"type\":\"string\"},\"authorName\":{\"type\":\"string\"}},\"required\":[\"bookname\",\"ISBN\",\"authorName\"]}",
                                "fe_metadata": "[{\"parameterName\":\"bookname\",\"type\":\"string\",\"required\":true},{\"parameterName\":\"ISBN\",\"type\":\"string\",\"required\":true},{\"parameterName\":\"authorName\",\"type\":\"string\",\"required\":true}]"
                            },
                            "headers": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"vintage\":{\"type\":\"boolean\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"vintage\",\"repeating\":\"false\",\"type\":\"boolean\",\"required\":\"false\"}]"
                            },
                            "body": {
                                "type": "json",
                                "value": "{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"},\"signed\":{\"type\":\"boolean\"},\"vintage\":{\"type\":\"boolean\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}",
                                "fe_metadata": "{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"},\"signed\":{\"type\":\"boolean\"},\"vintage\":{\"type\":\"boolean\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}"
                            },
                            "multipartFormData": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{}}",
                                "fe_metadata": "{\"type\":\"object\",\"properties\":{}}"
                            },
                            "multipartForm": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{}}",
                                "fe_metadata": "[]"
                            }
                        }
                    },
                    "name": "postBookDetails"
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:postBookDetails",
            "data": {
                "name": "postBookDetails",
                "description": "POST book details with multiple branches",
                "links": [
                    {
                        "id": 1,
                        "from": "StartActivity",
                        "to": "Mapper",
                        "type": "expression",
                        "label": "StartActivity to Mapper",
                        "value": "array.count($flow.body.Book) > 2 && array.count($flow.body.Book) <= 10"
                    },
                    {
                        "id": 2,
                        "from": "Mapper",
                        "to": "ConfigureHTTPResponse",
                        "type": "label",
                        "label": "Mapper to ConfigureHTTPResponse"
                    },
                    {
                        "id": 3,
                        "from": "ConfigureHTTPResponse",
                        "to": "LogSuccessFlow",
                        "type": "label",
                        "label": "ConfigureHTTPResponse to LogSuccessFlow"
                    },
                    {
                        "id": 4,
                        "from": "LogSuccessFlow",
                        "to": "Return200",
                        "type": "label",
                        "label": "LogSuccessFlow to Return200"
                    },
                    {
                        "id": 5,
                        "from": "StartActivity",
                        "to": "Mapper1",
                        "type": "expression",
                        "label": "StartActivity to Mapper1",
                        "value": "array.count($flow.body.Book) == 1"
                    },
                    {
                        "id": 6,
                        "from": "Mapper1",
                        "to": "ConfigureHTTPResponse1",
                        "type": "label",
                        "label": "Mapper1 to ConfigureHTTPResponse1"
                    },
                    {
                        "id": 7,
                        "from": "ConfigureHTTPResponse1",
                        "to": "Log222Flow",
                        "type": "label",
                        "label": "ConfigureHTTPResponse1 to Log222Flow"
                    },
                    {
                        "id": 8,
                        "from": "Log222Flow",
                        "to": "Return222",
                        "type": "label",
                        "label": "Log222Flow to Return222"
                    },
                    {
                        "id": 9,
                        "from": "StartActivity",
                        "to": "ConfigureHTTPResponse2",
                        "type": "expression",
                        "label": "StartActivity to ConfigureHTTPResponse2",
                        "value": "$flow.queryParams.id <= 0 || $flow.queryParams.id > 10"
                    },
                    {
                        "id": 10,
                        "from": "ConfigureHTTPResponse2",
                        "to": "LogMessage400Error",
                        "type": "label",
                        "label": "ConfigureHTTPResponse2 to LogMessage400Error"
                    },
                    {
                        "id": 11,
                        "from": "LogMessage400Error",
                        "to": "Return400",
                        "type": "label",
                        "label": "LogMessage400Error to Return400"
                    },
                    {
                        "id": 12,
                        "from": "StartActivity",
                        "to": "ConfigureHTTPResponse4",
                        "type": "exprOtherwise",
                        "label": "StartActivity to ConfigureHTTPResponse4"
                    },
                    {
                        "id": 13,
                        "from": "ConfigureHTTPResponse4",
                        "to": "Return500",
                        "type": "label",
                        "label": "ConfigureHTTPResponse4 to Return500"
                    }
                ],
                "tasks": [
                    {
                        "id": "StartActivity",
                        "name": "StartActivity",
                        "description": "NoOp Activity",
                        "activity": {
                            "ref": "#noop"
                        }
                    },
                    {
                        "id": "Mapper",
                        "name": "Mapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "Book": {
                                            "@foreach($flow.body.Book,Book)": {
                                                "id": "=$loop.id",
                                                "isbn": "=$loop.isbn",
                                                "name": "=$loop.name",
                                                "authorName": "=$loop.authorName",
                                                "releaseDate": "=datetime.formatDate($loop.releaseDate, \"yyyy/MM/dd\")",
                                                "price": "=$loop.price"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": "schema://bookSchema200"
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"Book\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"number\"\n          },\n          \"isbn\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"authorName\": {\n            \"type\": \"string\"\n          },\n          \"releaseDate\": {\n            \"type\": \"string\"\n          },\n          \"price\": {\n            \"type\": \"number\"\n          }\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"Book\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"number\"\n          },\n          \"isbn\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"authorName\": {\n            \"type\": \"string\"\n          },\n          \"releaseDate\": {\n            \"type\": \"string\"\n          },\n          \"price\": {\n            \"type\": \"number\"\n          }\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse",
                        "name": "ConfigureHTTPResponse",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "200",
                                "input": {
                                    "mapping": {
                                        "headers": {
                                            "Available": "=$flow.queryParams.available"
                                        },
                                        "body": {
                                            "Book": {
                                                "@foreach($activity[Mapper].output.Book,Book)": {
                                                    "id": "=$loop.id",
                                                    "isbn": "=$loop.isbn",
                                                    "name": "=$loop.name",
                                                    "authorName": "=$loop.authorName",
                                                    "releaseDate": "=datetime.formatDate($loop.releaseDate, \"yyyy/MM/dd\")",
                                                    "price": "=$loop.price"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}}}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"}}}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "LogSuccessFlow",
                        "name": "LogSuccessFlow",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"Book is available:\",coerce.toString($activity[ConfigureHTTPResponse].response.headers.Available))"
                            }
                        }
                    },
                    {
                        "id": "Return200",
                        "name": "Return200",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse].response.body",
                                            "headers": "=$activity[ConfigureHTTPResponse].response.headers"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse].code"
                                }
                            }
                        }
                    },
                    {
                        "id": "Mapper1",
                        "name": "Mapper1",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "id": "=json.path(\"$loop.Book[?(@.authorName == 'Rudyard Kipling')].id[0]\", $flow.body)",
                                        "isbn": "=json.path(\"$loop.Book[?(@.authorName == 'Rudyard Kipling')].isbn[0]\", $flow.body)",
                                        "name": "=json.path(\"$loop.Book[?(@.authorName == 'Rudyard Kipling')].name[0]\", $flow.body)",
                                        "authorName": "=json.path(\"$loop.Book[?(@.authorName == 'Rudyard Kipling')].authorName[0]\", $flow.body)"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": "schema://bookSchema222"
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"id\": {\n      \"type\": \"number\"\n    },\n    \"isbn\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"authorName\": {\n      \"type\": \"string\"\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"id\": {\n      \"type\": \"number\"\n    },\n    \"isbn\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"authorName\": {\n      \"type\": \"string\"\n    }\n  }\n}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse1",
                        "name": "ConfigureHTTPResponse1",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "222",
                                "input": {
                                    "mapping": {
                                        "body": "=$activity[Mapper1].output",
                                        "headers": {
                                            "Available": "=$flow.queryParams.available"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"type\":\"object\"}}}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"headers\":{\"type\":\"object\",\"properties\":{\"Available\":{\"type\":\"boolean\"}}},\"body\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"type\":\"object\"}}}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "Log222Flow",
                        "name": "Log222Flow",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"Book is available:\", string.tostring($activity[ConfigureHTTPResponse1].response.headers.Available))"
                            }
                        }
                    },
                    {
                        "id": "Return222",
                        "name": "Return222",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse1].response.body",
                                            "headers": "=$activity[ConfigureHTTPResponse1].response.headers"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse1].code"
                                }
                            }
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse2",
                        "name": "ConfigureHTTPResponse2",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "400",
                                "input": {
                                    "mapping": {
                                        "body": {
                                            "errorCode": 400,
                                            "errorMessage": "=string.concat(\"Bad Request \",\"query parameter id=\", coerce.toString($flow.queryParams.id), \" should be between 1 to 10\")"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"properties\":{\"errorCode\":{\"type\":\"number\"},\"errorMessage\":{\"type\":\"string\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"properties\":{\"errorCode\":{\"type\":\"number\"},\"errorMessage\":{\"type\":\"string\"}},\"type\":\"object\"}}}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"properties\":{\"errorCode\":{\"type\":\"number\"},\"errorMessage\":{\"type\":\"string\"}},\"type\":\"object\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"properties\":{\"errorCode\":{\"type\":\"number\"},\"errorMessage\":{\"type\":\"string\"}},\"type\":\"object\"}}}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "LogMessage400Error",
                        "name": "LogMessage400Error",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "Book not found..."
                            }
                        }
                    },
                    {
                        "id": "Return400",
                        "name": "Return400",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse2].response.body"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse2].code"
                                }
                            }
                        }
                    },
                    {
                        "id": "ConfigureHTTPResponse4",
                        "name": "ConfigureHTTPResponse4",
                        "description": "Configure HTTP Response Activity",
                        "activity": {
                            "ref": "#httpresponse",
                            "input": {
                                "trigger": "ReceiveHTTPMessage",
                                "responsecode": "500",
                                "input": {
                                    "mapping": {
                                        "body": "Server not available"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"body\":\"\"}"
                                    }
                                },
                                "output": {
                                    "response": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"body\":\"\"}"
                                    }
                                }
                            },
                            "feSchemaMap": {}
                        }
                    },
                    {
                        "id": "Return500",
                        "name": "Return500",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[ConfigureHTTPResponse4].response.body"
                                        }
                                    },
                                    "code": "=$activity[ConfigureHTTPResponse4].code"
                                }
                            }
                        }
                    }
                ],
                "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjM2LCJ5Ijo2OH0sIk1hcHBlciI6eyJ4IjoyNTAsInkiOjE1MH0sIkNvbmZpZ3VyZUhUVFBSZXNwb25zZSI6eyJ4Ijo0NTAsInkiOjE1MH0sIkxvZ1N1Y2Nlc3NGbG93Ijp7IngiOjY1MCwieSI6MTUwfSwiUmV0dXJuMjAwIjp7IngiOjg1MCwieSI6MTUwfSwiTWFwcGVyMSI6eyJ4IjoyNTAsInkiOjI1MH0sIkNvbmZpZ3VyZUhUVFBSZXNwb25zZTEiOnsieCI6NDUwLCJ5IjoyNTB9LCJMb2cyMjJGbG93Ijp7IngiOjY1MCwieSI6MjUwfSwiUmV0dXJuMjIyIjp7IngiOjg1MCwieSI6MjUwfSwiQ29uZmlndXJlSFRUUFJlc3BvbnNlMiI6eyJ4IjoyNTAsInkiOjM1MH0sIkxvZ01lc3NhZ2U0MDBFcnJvciI6eyJ4Ijo0NTAsInkiOjM1MH0sIlJldHVybjQwMCI6eyJ4Ijo2NTAsInkiOjM1MH0sIkNvbmZpZ3VyZUhUVFBSZXNwb25zZTQiOnsieCI6MjUwLCJ5Ijo0NTB9LCJSZXR1cm41MDAiOnsieCI6NDUwLCJ5Ijo0NTB9fQ==",
                "metadata": {
                    "input": [
                        {
                            "name": "queryParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"available\":{\"type\":\"boolean\"},\"price\":{\"type\":\"number\"},\"id\":{\"type\":\"number\"}}"
                            }
                        },
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"bookname\":{\"type\":\"string\"},\"ISBN\":{\"type\":\"string\"},\"authorName\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "headers",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"vintage\":{\"type\":\"boolean\"}}"
                            }
                        },
                        {
                            "name": "body",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"},\"signed\":{\"type\":\"boolean\"},\"vintage\":{\"type\":\"boolean\"}},\"type\":\"object\"},\"type\":\"array\"}}"
                            }
                        },
                        {
                            "name": "requestURI",
                            "type": "string"
                        },
                        {
                            "name": "method",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"queryParams\":{\"type\":\"object\",\"properties\":{\"available\":{\"type\":\"boolean\"},\"price\":{\"type\":\"number\"},\"id\":{\"type\":\"number\"}},\"required\":[\"available\",\"price\",\"id\"]},\"pathParams\":{\"type\":\"object\",\"properties\":{\"bookname\":{\"type\":\"string\"},\"ISBN\":{\"type\":\"string\"},\"authorName\":{\"type\":\"string\"}},\"required\":[\"bookname\",\"ISBN\",\"authorName\"]},\"headers\":{\"type\":\"object\",\"properties\":{\"vintage\":{\"type\":\"boolean\"}},\"required\":[]},\"body\":{\"properties\":{\"Book\":{\"items\":{\"properties\":{\"authorName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"number\"},\"isbn\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"},\"releaseDate\":{\"type\":\"string\"},\"signed\":{\"type\":\"boolean\"},\"vintage\":{\"type\":\"boolean\"}},\"type\":\"object\"},\"type\":\"array\"}},\"type\":\"object\"},\"requestURI\":{\"type\":\"string\",\"required\":false},\"method\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}},\"required\":[]}"
                    }
                },
                "explicitReply": true
            }
        }
    ],
    "properties": [],
    "schemas": {
        "booksSchema": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"vintage\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"signed\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"vintage\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"signed\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}"
        },
        "bookSchema200": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"Book\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"number\"\n                    },\n                    \"isbn\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"authorName\": {\n                        \"type\": \"string\"\n                    },\n                    \"releaseDate\": {\n                        \"type\": \"string\"\n                    },\n                    \"price\": {\n                        \"type\": \"number\"\n                    }\n                }\n            }\n        }\n    }\n}"
        },
        "bookSchema222": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"number\"\n        },\n        \"isbn\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"authorName\": {\n            \"type\": \"string\"\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"number\"\n        },\n        \"isbn\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"authorName\": {\n            \"type\": \"string\"\n        }\n    }\n}"
        }
    },
    "specs": {
        "10fb83be": {
            "id": "10fb83be",
            "name": "book_details.spec",
            "type": "OpenAPI",
            "content": "ew0KICAiYmFzZVBhdGgiOiAiLyIsDQogICJkZWZpbml0aW9ucyI6IHsNCiAgICAic2NoZW1hMSI6IHsNCiAgICAgICJwcm9wZXJ0aWVzIjogew0KICAgICAgICAiQm9vayI6IHsNCiAgICAgICAgICAiaXRlbXMiOiB7DQogICAgICAgICAgICAicHJvcGVydGllcyI6IHsNCiAgICAgICAgICAgICAgImF1dGhvck5hbWUiOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAiZGVzY3JpcHRpb24iOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAiaWQiOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAiaXNibiI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICJuYW1lIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgInByaWNlIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogIm51bWJlciINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgInJlbGVhc2VEYXRlIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgInNpZ25lZCI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAidmludGFnZSI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInR5cGUiOiAib2JqZWN0Ig0KICAgICAgICAgIH0sDQogICAgICAgICAgInR5cGUiOiAiYXJyYXkiDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAidHlwZSI6ICJvYmplY3QiDQogICAgfSwNCiAgICAic2NoZW1hMiI6IHsNCiAgICAgICJwcm9wZXJ0aWVzIjogew0KICAgICAgICAiQm9vayI6IHsNCiAgICAgICAgICAiaXRlbXMiOiB7DQogICAgICAgICAgICAicHJvcGVydGllcyI6IHsNCiAgICAgICAgICAgICAgImF1dGhvck5hbWUiOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAiaWQiOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAiaXNibiI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICJuYW1lIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgInByaWNlIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogIm51bWJlciINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgInJlbGVhc2VEYXRlIjogew0KICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ0eXBlIjogIm9iamVjdCINCiAgICAgICAgICB9LA0KICAgICAgICAgICJ0eXBlIjogImFycmF5Ig0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgInR5cGUiOiAib2JqZWN0Ig0KICAgIH0sDQogICAgInNjaGVtYTMiOiB7DQogICAgICAicHJvcGVydGllcyI6IHsNCiAgICAgICAgImF1dGhvck5hbWUiOiB7DQogICAgICAgICAgInR5cGUiOiAic3RyaW5nIg0KICAgICAgICB9LA0KICAgICAgICAiaWQiOiB7DQogICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICB9LA0KICAgICAgICAiaXNibiI6IHsNCiAgICAgICAgICAidHlwZSI6ICJzdHJpbmciDQogICAgICAgIH0sDQogICAgICAgICJuYW1lIjogew0KICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJ0eXBlIjogIm9iamVjdCINCiAgICB9LA0KICAgICJzY2hlbWE0Ijogew0KICAgICAgInByb3BlcnRpZXMiOiB7DQogICAgICAgICJlcnJvckNvZGUiOiB7DQogICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICB9LA0KICAgICAgICAiZXJyb3JNZXNzYWdlIjogew0KICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJ0eXBlIjogIm9iamVjdCINCiAgICB9DQogIH0sDQogICJob3N0IjogImxvY2FsaG9zdDo5OTk4IiwNCiAgImluZm8iOiB7DQogICAgImRlc2NyaXB0aW9uIjogIk11bHRpcGxlIHJlc3BvbnNlIGNvZGUgc2VydmljZSIsDQogICAgInRpdGxlIjogImZsb2dvLnJlc3Quc2VydmljZSIsDQogICAgInZlcnNpb24iOiAiMS4wLjAiDQogIH0sDQogICJwYXRocyI6IHsNCiAgICAiL2Jvb2tkZXRhaWxzL3tib29rbmFtZX0ve0lTQk59L3thdXRob3JOYW1lfSI6IHsNCiAgICAgICJwb3N0Ijogew0KICAgICAgICAiY29uc3VtZXMiOiBbDQogICAgICAgICAgImFwcGxpY2F0aW9uL2pzb24iDQogICAgICAgIF0sDQogICAgICAgICJvcGVyYXRpb25JZCI6ICJwb3N0X2Jvb2tkZXRhaWxzX2Jvb2tuYW1lX0lTQk5fYXV0aG9yTmFtZSIsDQogICAgICAgICJwYXJhbWV0ZXJzIjogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXF1ZXN0IHBhcmFtZXRlciIsDQogICAgICAgICAgICAiaW4iOiAicXVlcnkiLA0KICAgICAgICAgICAgIm5hbWUiOiAiYXZhaWxhYmxlIiwNCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsDQogICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJlcXVlc3QgcGFyYW1ldGVyIiwNCiAgICAgICAgICAgICJpbiI6ICJxdWVyeSIsDQogICAgICAgICAgICAibmFtZSI6ICJwcmljZSIsDQogICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLA0KICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJlcXVlc3QgcGFyYW1ldGVyIiwNCiAgICAgICAgICAgICJpbiI6ICJxdWVyeSIsDQogICAgICAgICAgICAibmFtZSI6ICJpZCIsDQogICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLA0KICAgICAgICAgICAgInR5cGUiOiAibnVtYmVyIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJlcXVlc3QgcGFyYW1ldGVyIiwNCiAgICAgICAgICAgICJpbiI6ICJwYXRoIiwNCiAgICAgICAgICAgICJuYW1lIjogImJvb2tuYW1lIiwNCiAgICAgICAgICAgICJyZXF1aXJlZCI6IHRydWUsDQogICAgICAgICAgICAidHlwZSI6ICJzdHJpbmciDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiUmVxdWVzdCBwYXJhbWV0ZXIiLA0KICAgICAgICAgICAgImluIjogInBhdGgiLA0KICAgICAgICAgICAgIm5hbWUiOiAiSVNCTiIsDQogICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLA0KICAgICAgICAgICAgInR5cGUiOiAic3RyaW5nIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlJlcXVlc3QgcGFyYW1ldGVyIiwNCiAgICAgICAgICAgICJpbiI6ICJwYXRoIiwNCiAgICAgICAgICAgICJuYW1lIjogImF1dGhvck5hbWUiLA0KICAgICAgICAgICAgInJlcXVpcmVkIjogdHJ1ZSwNCiAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJSZXF1ZXN0IHBhcmFtZXRlciIsDQogICAgICAgICAgICAiaW4iOiAiaGVhZGVyIiwNCiAgICAgICAgICAgICJuYW1lIjogInZpbnRhZ2UiLA0KICAgICAgICAgICAgInJlcXVpcmVkIjogZmFsc2UsDQogICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIg0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogInJlcXVlc3QgYm9keSBwYXJhbWV0ZXIiLA0KICAgICAgICAgICAgImluIjogImJvZHkiLA0KICAgICAgICAgICAgIm5hbWUiOiAiYm9keSIsDQogICAgICAgICAgICAicmVxdWlyZWQiOiB0cnVlLA0KICAgICAgICAgICAgInNjaGVtYSI6IHsNCiAgICAgICAgICAgICAgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9zY2hlbWExIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgInJlc3BvbnNlcyI6IHsNCiAgICAgICAgICAiMjAwIjogew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIiIsDQogICAgICAgICAgICAiaGVhZGVycyI6IHsNCiAgICAgICAgICAgICAgIkF2YWlsYWJsZSI6IHsNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJib29sZWFuIg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInNjaGVtYSI6IHsNCiAgICAgICAgICAgICAgIiRyZWYiOiAiIy9kZWZpbml0aW9ucy9zY2hlbWEyIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgIjIyMiI6IHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgImhlYWRlcnMiOiB7DQogICAgICAgICAgICAgICJBdmFpbGFibGUiOiB7DQogICAgICAgICAgICAgICAgInR5cGUiOiAiYm9vbGVhbiINCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzY2hlbWEiOiB7DQogICAgICAgICAgICAgICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvc2NoZW1hMyINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgICI0MDAiOiB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwNCiAgICAgICAgICAgICJzY2hlbWEiOiB7DQogICAgICAgICAgICAgICIkcmVmIjogIiMvZGVmaW5pdGlvbnMvc2NoZW1hNCINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgICI1MDAiOiB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiIiwNCiAgICAgICAgICAgICJzY2hlbWEiOiB7DQogICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgICJzdW1tYXJ5IjogInBvc3RCb29rRGV0YWlscyINCiAgICAgIH0NCiAgICB9DQogIH0sDQogICJzY2hlbWVzIjogWw0KICAgICJodHRwcyIsDQogICAgImh0dHAiDQogIF0sDQogICJzd2FnZ2VyIjogIjIuMCINCn0=",
            "version": "1.0.0"
        }
    },
    "connections": {},
    "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS90aWJjby9mbG9nby1nZW5lcmFsL3NyYy9hcHAvR2VuZXJhbCIsImlkIjoiR2VuZXJhbCIsInZlcnNpb24iOiIxLjYuNCIsInRhZyI6IjEuNi40LWIwMiIsIm5hbWUiOiJHZW5lcmFsIiwiczNsb2NhdGlvbiI6IlRpYmNvL0dlbmVyYWwiLCJpc1VzZXJFeHRlbnNpb24iOmZhbHNlfV0=",
    "metadata": {
        "endpoints": [
            {
                "protocol": "http",
                "port": "9998",
                "spec": {
                    "name": "flogo.rest.service",
                    "version": "1.0.0"
                },
                "title": "ReceiveHTTPMessage",
                "swagger": {
                    "swagger": "2.0",
                    "info": {
                        "title": "flogo.rest.service",
                        "version": "1.0.0",
                        "description": "Multiple response code service"
                    },
                    "paths": {
                        "/bookdetails/{bookname}/{ISBN}/{authorName}": {
                            "post": {
                                "summary": "postBookDetails",
                                "operationId": "post_bookdetails_bookname_ISBN_authorName",
                                "parameters": [
                                    {
                                        "name": "available",
                                        "in": "query",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "boolean"
                                    },
                                    {
                                        "name": "price",
                                        "in": "query",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "number"
                                    },
                                    {
                                        "name": "id",
                                        "in": "query",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "number"
                                    },
                                    {
                                        "name": "bookname",
                                        "in": "path",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "string"
                                    },
                                    {
                                        "name": "ISBN",
                                        "in": "path",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "string"
                                    },
                                    {
                                        "name": "authorName",
                                        "in": "path",
                                        "description": "Request parameter",
                                        "required": true,
                                        "type": "string"
                                    },
                                    {
                                        "name": "vintage",
                                        "in": "header",
                                        "description": "Request parameter",
                                        "required": false,
                                        "type": "boolean"
                                    },
                                    {
                                        "name": "body",
                                        "in": "body",
                                        "description": "request body parameter",
                                        "required": true,
                                        "schema": {
                                            "$ref": "#/definitions/schema1"
                                        }
                                    }
                                ],
                                "responses": {
                                    "200": {
                                        "description": "",
                                        "schema": {
                                            "$ref": "#/definitions/schema2"
                                        },
                                        "headers": {
                                            "Available": {
                                                "type": "boolean"
                                            }
                                        }
                                    },
                                    "222": {
                                        "description": "",
                                        "schema": {
                                            "$ref": "#/definitions/schema3"
                                        },
                                        "headers": {
                                            "Available": {
                                                "type": "boolean"
                                            }
                                        }
                                    },
                                    "400": {
                                        "description": "",
                                        "schema": {
                                            "$ref": "#/definitions/schema4"
                                        }
                                    },
                                    "500": {
                                        "description": "",
                                        "schema": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "description": "POST book details with multiple branches",
                                "consumes": [
                                    "application/json"
                                ]
                            }
                        }
                    },
                    "definitions": {
                        "schema1": {
                            "properties": {
                                "Book": {
                                    "items": {
                                        "properties": {
                                            "authorName": {
                                                "type": "string"
                                            },
                                            "description": {
                                                "type": "string"
                                            },
                                            "id": {
                                                "type": "number"
                                            },
                                            "isbn": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "price": {
                                                "type": "number"
                                            },
                                            "releaseDate": {
                                                "type": "string"
                                            },
                                            "signed": {
                                                "type": "boolean"
                                            },
                                            "vintage": {
                                                "type": "boolean"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "schema2": {
                            "properties": {
                                "Book": {
                                    "items": {
                                        "properties": {
                                            "authorName": {
                                                "type": "string"
                                            },
                                            "id": {
                                                "type": "number"
                                            },
                                            "isbn": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "price": {
                                                "type": "number"
                                            },
                                            "releaseDate": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "schema3": {
                            "properties": {
                                "authorName": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "number"
                                },
                                "isbn": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "schema4": {
                            "properties": {
                                "errorCode": {
                                    "type": "number"
                                },
                                "errorMessage": {
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            }
        ],
        "flogoVersion": "2.25.3"
    }
}